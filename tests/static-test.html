<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<title>KISSY Editor Test</title>
<link href="../assets/base.css" rel="stylesheet"/>
<link href="../assets/editor.css" rel="stylesheet"/>
</head>
<body>

<h1>KISSY Editor Demo</h1>

<div style="width: 90%; margin: 0 auto">
    <label for="editor">Editor Instance 1:</label>
    <textarea id="editor" tabindex="1" style="width:100%;height:400px;margin:0 auto;">
        <script>alert(1);</script>
        <p>我是音乐：</p>

        <object height="37"
                align=""
                width="165"
                codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"
                classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">
            <param
                    value="../plugins/music/niftyplayer.swf?file=../plugins/music/betty.mp3&amp;as=0"
                    name="movie"/>
            <param value="high" name="quality"/>
            <param value="#FFFFFF" name="bgcolor"/>
            <embed height="37"
                   align=""
                   width="165"
                   pluginspage="http://www.macromedia.com/go/getflashplayer"
                   swliveconnect="true"
                   type="application/x-shockwave-flash"
                   bgcolor="#FFFFFF"
                   quality="high"
                   src="../plugins/music/niftyplayer.swf?file=../plugins/music/betty.mp3&amp;as=0">
            </embed>
        </object>

        <p> 1 2 3 4 5 6 7 78 <a href="http://www.g.cn">我是google</a> 1 1 1 12234 3 45</p>
        <p>我是段落 <span style="background-color: red;"> 我是段落 我是段落 </span> 我是段落 <img src="http://img05.taobaocdn.com/tps/i5/T117hGXndsXXXXXXXX-15-13.gif"> 我是段落 我是段落 </p>  <p> 我是段落 我是段落 <br></p>

        <p>我是表格，支持右键</p>
        <table style="width: 200px;" border="1" cellpadding="1" cellspacing="1">
            <tbody>
            <tr>
                <td>1</td>
                <td>2</td>
                <td>3 <span>3.1</span> 3.2 <span>3.3</span></td>
            </tr>
            <tr>
                <td>4</td>
                <td>5</td>
                <td>6</td>
            </tr>
            </tbody>
        </table>

        <p>我是段落 <span style="background-color: red;"> 我是段落 我是段落 </span> 我是段落 <img src="http://img05.taobaocdn.com/tps/i5/T117hGXndsXXXXXXXX-15-13.gif"> 我是段落 我是段落 </p>  <p> 我是段落 我是段落 <br></p>

        <p>我是flash：</p>
        <object class="holiday-logo"
                classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
                height="68" width="300">
            <param name="movie"
                   value="http://img01.taobaocdn.com/tps/i1/T12MVIXfVNXXXXXXXX.swf"/>
            <param name="wmode" value="transparent"/>
            <object class="holiday-logo"
                    data="http://img01.taobaocdn.com/tps/i1/T12MVIXfVNXXXXXXXX.swf"
                    height="68" name="holiday-logo"
                    type="application/x-shockwave-flash"
                    width="300">
                <param name="wmode"
                       value="transparent"/>
                <a href="http://www.taobao.com/"
                   style="height: 43px; margin-left: 56px;" target="_top">
                    淘宝网
                    <img alt="淘宝网" height="110" src="http://www.taobao.com/"
                         title="Taobao.com - 阿里巴巴旗下网站" width="167"/>
                </a>
            </object>
        </object>
        <ul>
            <li> 我是列表1</li>
            <li> 我是列表2
                <ul>
                    <li><p>我是列表2.1</p></li>
                    <li> 我是列表2.2</li>
                    <li> 我是列表2.3</li>
                </ul>
            </li>
            <li> 我是列表3</li>
        </ul>
        <p>1</p>
        <p>2</p>
        <p>3</p>
        <p>4</p>
        <ul>
            <li> 我是列表1</li>
            <li> 我是列表2
                <ul>
                    <li><p>我是列表2.1</p></li>
                    <li> 我是列表2.2</li>
                    <li> 我是列表2.3</li>
                </ul>
            </li>
            <li><p>我是列表3</p></li>
        </ul>

        <p>1</p>
        <p>2</p>
        <p>3</p>
        <p>4</p>

    </textarea>
</div>

<div style="width: 60%; margin: 50px auto">
    <label for="editor2">Editor Instance 2:</label>
    <textarea id="editor2" style="width:100%;height:400px;margin:0 auto;"></textarea>
</div>


<script src="http://github.com/kissyteam/kissy/raw/master/build/kissy-min.js?t=20100821.js"></script>
<!--<script src="../../kissy/src/kissy/loader.js"></script>-->
<script src="http://github.com/kissyteam/kissy-sandbox/raw/master/attribute/attribute.js"></script>

<script src="../editor.js"></script>
<script src="../core/utils.js"></script>
<script src="../core/focusmanager.js"></script>
<script src="../core/definition.js"></script>
<script src="../core/dtd.js"></script>
<script src="../core/dom.js"></script>
<script src="../core/elementpath.js"></script>
<script src="../core/walker.js"></script>
<script src="../core/range.js"></script>
<script src="../core/domiterator.js"></script>
<script src="../core/selection.js"></script>
<script src="../core/styles.js"></script>

<script src="../ui/button.js"></script>
<script src="../ui/contextmenu.js"></script>
<script src="../ui/overlay.js"></script>

<script src="../plugins/htmldataprocessor/htmlparser/htmlparser.js"></script>
<script src="../plugins/htmldataprocessor/htmlparser/basicwriter.js"></script>
<script src="../plugins/htmldataprocessor/htmlparser/htmlwriter.js"></script>
<script src="../plugins/htmldataprocessor/htmlparser/fragment.js"></script>
<script src="../plugins/htmldataprocessor/htmlparser/element.js"></script>
<script src="../plugins/htmldataprocessor/htmlparser/filter.js"></script>
<script src="../plugins/htmldataprocessor/htmlparser/text.js"></script>
<script src="../plugins/htmldataprocessor/plugin.js"></script>

<script src="../plugins/fakeobjects/plugin.js"></script>

<!--源码--->
<script src="../plugins/sourcearea/plugin.js"></script>
<!--预览-->
<script src="../plugins/preview/plugin.js"></script>
<!--模板-->
<script src="../plugins/templates/plugin.js"></script>
<!--撤销-->
<script src="../plugins/undo/plugin.js"></script>
<!--清除格式-->
<script src="../plugins/removeformat/plugin.js"></script>
<!--字体-->
<script src="../plugins/font/plugin.js"></script>
<!--格式-->
<script src="../plugins/format/plugin.js"></script>
<!--颜色-->
<script src="../plugins/color/plugin.js"></script>
<!--列表-->
<script src="../plugins/list/plugin.js"></script>
<!--缩进-->
<script src="../plugins/indent/plugin.js"></script>
<!--对齐-->
<script src="../plugins/justify/plugin.js"></script>
<!--链接-->
<script src="../plugins/link/plugin.js"></script>
<!--图像-->
<script src="../plugins/image/plugin.js"></script>
<!--flash-->
<script src="../plugins/flash/plugin.js"></script>
<!--音乐-->
<script src="../plugins/music/plugin.js"></script>
<!--表格-->
<script src="../plugins/table/plugin.js"></script>
<!--表情-->
<script src="../plugins/smiley/plugin.js"></script>
<!--最大化-->
<script src="../plugins/maximize/plugin.js"></script>
<!--路径-->
<script src="../plugins/elementpaths/plugin.js"></script>
<!--捕获粘贴-->
<script src="../plugins/clipboard/plugin.js"></script>
<!--捕获 enter ,shift enter-->
<script src="../plugins/enterkey/plugin.js"></script>

<script>
    // just for test 
    var base = location.href.replace(/^(.*kissy-editor\/).*$/i, '$1');
    KISSY.Config.base = base;

    KISSY.use('editor', function(S) {

        var KE = KISSY.Editor;
        S.Config.debug = true;
        KE.Config.base = base;

        KE("#editor", {
            pluginConfig: {
                "templates": [
                    {
                        demo: "模板1效果演示html"  ,
                        html: "<div style='border:1px solid red'>模板1效果演示html</div><p>fine?</p>"
                    },
                    {
                        demo: "模板2效果演示html",
                        html: "<div style='border:1px solid red'>模板2效果演示html</div>"
                    }
                ]
            }
        }).use("htmldataprocessor,enterkey,clipboard,elementpaths,sourcearea,preview," +
                "templates,undo,removeformat,font,format,color," +
                "list,indent,justify,link,image,flash,music," +
                "table,smiley,maximize"
                );

        KE("#editor2").use("htmldataprocessor,enterkey,clipboard,undo,font");
    });

</script>
</body>
</html>